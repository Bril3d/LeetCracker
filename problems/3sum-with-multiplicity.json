{"problemName":"3sum-with-multiplicity","language":"java","code":"class Solution {\n    public int threeSumMulti(int[] A, int target) {\n        int MOD = 1_000_000_007;\n        long[] count = new long[101];\n        for (int x: A)\n            count[x]++;\n\n        long ans = 0;\n\n        // All different\n        for (int x = 0; x <= 100; ++x)\n            for (int y = x+1; y <= 100; ++y) {\n                int z = target - x - y;\n                if (y < z && z <= 100) {\n                    ans += count[x] * count[y] * count[z];\n                    ans %= MOD;\n                }\n            }\n\n        // x == y != z\n        for (int x = 0; x <= 100; ++x) {\n            int z = target - 2*x;\n            if (x < z && z <= 100) {\n                ans += count[x] * (count[x] - 1) / 2 * count[z];\n                ans %= MOD;\n            }\n        }\n\n        // x != y == z\n        for (int x = 0; x <= 100; ++x) {\n            if (target % 2 == x % 2) {\n                int y = (target - x) / 2;\n                if (x < y && y <= 100) {\n                    ans += count[x] * count[y] * (count[y] - 1) / 2;\n                    ans %= MOD;\n                }\n            }\n        }\n\n        // x == y == z\n        if (target % 3 == 0) {\n            int x = target / 3;\n            if (0 <= x && x <= 100) {\n                ans += count[x] * (count[x] - 1) * (count[x] - 2) / 6;\n                ans %= MOD;\n            }\n        }\n\n        return (int) ans;\n    }\n}"}