{"problemName":"apply-discount-to-prices","language":"cpp","code":"class Solution {\npublic:\n    string discountPrices(string s, int d) {\n        string ans=\"\";\n        for(int i=0;i<s.size();){\n            if(s[i]!='$'){\n                ans+=s[i];\n                i++;\n            }else{\n                if((i>0 && s[i-1]!=' ') || !isdigit(s[i+1])){\n                    ans+=s[i];\n                    i++;\n                }else{\n                    i++;\n                    long val=0;\n                    while(i<s.size() && isdigit(s[i])){\n                        val *= 10;\n                        val += (s[i]-'0');\n                        i++;\n                    }\n                    \n                    if(i<s.size() && s[i]!=' '){\n                        ans += ('$' + to_string(val));\n                    }else{\n                        val = (val*100 - val*d);\n                        int intpart = (val/100)*100;\n                        int decipart = val-intpart;\n                        string deci = to_string(decipart);\n                        string integer = to_string(val/100);\n                        if(deci.size() < 2) deci = '0'+ deci;\n                        ans += ('$' + integer + '.' + deci);\n                    }\n                }  \n            }\n        }\n        return ans;\n    }\n    \n};"}