{"problemName":"basic-calculator-ii","language":"cpp","code":"class Solution {\npublic:\n    int pre(char c){\n        if(c == '+' || c == '-'){\n            return 1;\n        }else if(c == '*' || c == '/'){\n            return 2;\n        }\n        return -1;\n    }\n    int calculate(string s) {\n        stack<int> num;\n        stack<char> st;\n        int temp = 0;\n        for(auto i : s){\n            if(i == ' ')continue;\n            if(i >= '0' && i <= '9'){\n                temp = temp * 10 + (i - '0');\n            }else{\n                num.push(temp);\n                while(!st.empty() && pre(st.top()) >= pre(i)){\n                    char top = st.top();\n                    st.pop();\n                    int b = num.top();\n                    num.pop();\n                    int a = num.top();\n                    num.pop();\n                    int ans = 0;\n                    if(top == '+')ans = a + b;\n                    else if(top == '-')ans = a - b;\n                    else if(top == '*')ans = a * b;\n                    else if(top == '/')ans = a / b;\n                    num.push(ans);\n                }\n                st.push(i);\n                temp = 0;\n            }\n        }\n        num.push(temp);\n        while(!st.empty()){\n            char top = st.top();\n            st.pop();\n            // cout<<top<<endl;\n            int b = num.top();\n            num.pop();\n            int a = num.top();\n            num.pop();\n            int ans = 0;\n            if(top == '+')ans = a + b;\n            else if(top == '-')ans = a - b;\n            else if(top == '*')ans = a * b;\n            else if(top == '/')ans = a / b;\n            num.push(ans);\n        }\n        return num.top();\n    }\n};"}