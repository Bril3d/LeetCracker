{"problemName":"shifting-letters-ii","language":"cpp","code":"class Solution {\npublic:\n    string shiftingLetters(string s, vector<vector<int>>& shifts) {\n        int n = s.length();\n        vector<int> pre(n + 1, 0);\n        vector<int> pre2(n + 1, 0);\n        for(auto i : shifts){\n            if(i[2] == 1){\n                pre[i[0]]++;\n                pre[i[1] + 1]--;\n            }else{\n                pre2[i[0]]++;\n                pre2[i[1] + 1]--;\n            }\n        }\n        for(int i = 1; i < n;i++){\n            pre[i] += pre[i-1];\n            pre2[i] += pre2[i-1];\n        }\n        for(int i = 0; i < n;i++){\n            pre[i] -= pre2[i];\n            \n            s[i] = (s[i] - 'a' + pre[i] + 26 * 10000)%26 + 'a';\n        }\n        return s;\n    }\n};"}