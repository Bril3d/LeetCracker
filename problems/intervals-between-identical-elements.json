{"problemName":"intervals-between-identical-elements","language":"cpp","code":"class Solution {\npublic:\n    vector<long long> getDistances(vector<int>& arr) {\n        unordered_map<long ,long> count_l,count_r, countL,countR,sumL,sumR,left,right;\n        unordered_map<int,pair<int,int>> start;\n        \n        for(int i=0;i<arr.size();i++){\n            countL[i]=count_l[arr[i]];\n            count_l[arr[i]]++;\n            \n            left[i]=sumL[arr[i]];\n            sumL[arr[i]]+=i;\n            \n            if(!start.count(arr[i])){\n                start[arr[i]]={i,i};\n            }else start[arr[i]].second=i;\n        }\n        for(int i=arr.size()-1;i>=0;i--){\n            countR[i]=count_r[arr[i]];\n            count_r[arr[i]]++;\n            \n            right[i]=sumR[arr[i]];\n            sumR[arr[i]]+=i;\n        }\n        \n        \n        vector<long long> ans;\n        for(int i=0;i<arr.size();i++){\n            long long l=0,r=0;\n            \n            if(start[arr[i]].first!=i){\n                l=abs(i*countL[i]-left[i]);\n            }\n            if(start[arr[i]].second!=i){\n                r=abs(right[i]-i*countR[i]);\n            }\n            \n            ans.push_back(l+r);\n            \n        }\n        return ans;\n    }\n};"}