{"problemName":"maximum-deletions-on-a-string","language":"cpp","code":"class Solution {\npublic:\n    \n    int dp[4005];\n    void KMP(string &str,vector<int> &k){\n        int i=0,j=1;\n        k[0]=0;\n        while(j<str.length()){\n            if(str[i]==str[j]){\n                k[j]=i+1;\n                j++;\n                i++;\n            }else{\n                if(i==0){\n                    k[j++]=0;\n                }else{\n                    i=k[i-1]==0?0:k[i-1]-1;\n                }\n            }\n        }\n    }\n    \n    int solve(string &s,int i){\n       \n        if(i==s.length()) return 0;\n        if(dp[i]!=-1) return dp[i];\n        \n        string str;\n        for(int j=i;j<s.length();j++){\n            str.push_back(s[j]);\n        }\n        \n        vector<int> k(str.length());\n        \n        KMP(str,k);\n        int ans=1;\n        for(int j=0;j<k.size();j++){\n            if(j+1==k[j]*2){\n                ans=max(ans,1+solve(s,i+k[j]));\n            }\n        }\n        return dp[i]=ans;\n        \n    }\n    int deleteString(string s) {\n        memset(dp,-1,sizeof dp);\n        \n        return solve(s,0);\n    }\n};"}